{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "2edae4cd-0ad8-455f-a8f8-abe0e2feb364",
   "metadata": {},
   "source": [
    "<h2><b>Bayesian Problem #01: Political Participation Among First-Time Voters</b></h2>"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "3b9d86be-b81a-494c-a731-83a33b1b77e4",
   "metadata": {},
   "source": [
    "In a study about political engagement, 750 first-time voters aged 18 to 22 were surveyed after a national election, and 495 of them said they voted. The goal here is to estimate the actual voter turnout rate for this group using Bayesian inference, while also understanding how confident we can be in that estimate. We’re especially interested in figuring out the chance that the real turnout was over 65%, which would show strong civic participation among young voters."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "f33f5948-76a0-45cd-8eb5-8a8285b9ee52",
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "from scipy.stats import beta\n",
    "\n",
    "# Set seed for reproducibility\n",
    "np.random.seed(42)\n",
    "\n",
    "# Observed data\n",
    "total_voters = 750\n",
    "actual_voted = 495\n",
    "\n",
    "# Prior: Beta(1, 1) (uniform prior)\n",
    "prior_alpha = 1\n",
    "prior_beta = 1\n",
    "\n",
    "# Posterior parameters\n",
    "posterior_alpha = prior_alpha + actual_voted\n",
    "posterior_beta = prior_beta + (total_voters - actual_voted)\n",
    "\n",
    "# Draw samples from the posterior distribution\n",
    "posterior_samples = np.random.beta(posterior_alpha, posterior_beta, size=10000)\n",
    "\n",
    "# Calculate 95% credible interval\n",
    "credible_interval = np.percentile(posterior_samples, [2.5, 97.5])\n",
    "\n",
    "# First Graph: Posterior Distribution\n",
    "plt.figure(figsize=(8, 6))\n",
    "plt.hist(posterior_samples, bins=30, density=True, color='skyblue', edgecolor='black', alpha=0.7)\n",
    "plt.axvline(credible_interval[0], color='red', linestyle='--', label='95% Credible Interval')\n",
    "plt.axvline(credible_interval[1], color='red', linestyle='--')\n",
    "plt.axvline(0.65, color='purple', linestyle='--', label='65% Benchmark')\n",
    "plt.title('Posterior Distribution of Voter Turnout Rate (Ages 18–22)')\n",
    "plt.xlabel('Turnout Rate')\n",
    "plt.ylabel('Density')\n",
    "plt.legend()\n",
    "plt.xlim(0.4, 0.9)\n",
    "plt.show()\n",
    "\n",
    "# Second Graph: Posterior Density Overlay to Visualize Uncertainty\n",
    "plt.figure(figsize=(8, 6))\n",
    "x = np.linspace(0, 1, 1000)\n",
    "for _ in range(50):\n",
    "    alpha_sample = np.random.gamma(shape=posterior_alpha, scale=1.0)\n",
    "    beta_sample = np.random.gamma(shape=posterior_beta, scale=1.0)\n",
    "    y = beta.pdf(x, alpha_sample, beta_sample)\n",
    "    plt.plot(x, y, color='green', alpha=0.1)\n",
    "\n",
    "plt.axvline(0.65, color='purple', linestyle='--', label='65% Benchmark')\n",
    "plt.title('Uncertainty in Posterior Density of Turnout Rate')\n",
    "plt.xlabel('Turnout Rate')\n",
    "plt.ylabel('Density')\n",
    "plt.legend()\n",
    "plt.xlim(0.4, 0.9)\n",
    "plt.grid(True, linestyle='--', alpha=0.3)\n",
    "plt.show()\n",
    "\n",
    "# Summary statistics\n",
    "mean_turnout = posterior_alpha / (posterior_alpha + posterior_beta)\n",
    "mode_turnout = (posterior_alpha - 1) / (posterior_alpha + posterior_beta - 2)\n",
    "prob_above_65 = np.mean(posterior_samples > 0.65)\n",
    "\n",
    "# Print results\n",
    "print(\"\\n\\033[1m🗳️ Voter Turnout Estimate (Bayesian Inference)\\033[0m\")\n",
    "print(f\"• Mean turnout rate: \\033[94m{mean_turnout:.4f}\\033[0m\")\n",
    "print(f\"• Mode turnout rate: \\033[94m{mode_turnout:.4f}\\033[0m\")\n",
    "print(f\"• 95% credible interval: \\033[94m({credible_interval[0]:.3f}, {credible_interval[1]:.3f})\\033[0m\")\n",
    "print(f\"• Probability turnout > 65%: \\033[92m{prob_above_65:.4f}\\033[0m\")\n",
    "\n",
    "print(\"\\n\\033[1m📌 CONCLUSION:\\033[0m\")\n",
    "print(\"\\033[1mThe estimated turnout rate for first-time voters aged 18–22 is approximately {:.1f}%, \"\n",
    "      \"with a 95% credible interval ranging from {:.1f}% to {:.1f}%. \"\n",
    "      \"There is a {:.1f}% chance that the true turnout rate exceeded 65%, suggesting that civic engagement \"\n",
    "      \"among young voters may be meaningfully strong.\\033[0m\"\n",
    "      .format(mean_turnout * 100, credible_interval[0] * 100, credible_interval[1] * 100, prob_above_65 * 100))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "61591154-f94c-4a04-a046-e39a8c258dec",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python [conda env:base] *",
   "language": "python",
   "name": "conda-base-py"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.7"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
